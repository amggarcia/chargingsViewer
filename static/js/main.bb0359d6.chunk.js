(this.webpackJsonpchargings=this.webpackJsonpchargings||[]).push([[0],{113:function(e,a,t){e.exports=t(152)},118:function(e,a,t){},119:function(e,a,t){},135:function(e,a){},137:function(e,a){},152:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),i=t(10),l=t.n(i),c=(t(118),t(119),t(16)),o=t(73),u=t.n(o),s=t(97),m=t(176),g=t(98),d=t(44),p=t(45),E=t(35),h=t.n(E),v=function(){function e(){Object(d.a)(this,e),this.idUsage=void 0,this.idServiceProvider=void 0,this.idExternalNumber=void 0,this.idInternalNumber=void 0,this.idNetworkOperator=void 0,this.idChargingStation=void 0,this.idEVSE=void 0,this.startTimestamp=void 0,this.stopTimestamp=void 0,this.totalDuration=void 0,this.energia_total_transacao=void 0,this.SubUsage=void 0}return Object(p.a)(e,[{key:"getStartDate",value:function(){return this.startTimestamp?h()(this.startTimestamp,"YYYYMMDDhhmmss"):null}},{key:"getEndDate",value:function(){return this.stopTimestamp?h()(this.stopTimestamp,"YYYYMMDDhhmmss"):null}}]),e}();var f=function(){function e(){Object(d.a)(this,e),this.idSubUsage=void 0,this.idDay=void 0,this.periodDuration=void 0,this.preco_opc=void 0,this.preco_unitario_opc_tempo=void 0,this.preco_unitario_opc_energia=void 0,this.preco_unitario_opc_ativacao=void 0,this.preco_opc_tempo=void 0,this.preco_opc_energia=void 0,this.preco_opc_ativacao=void 0,this.energia_total_periodo=void 0}return Object(p.a)(e,[{key:"getDay",value:function(){return this.idDay?h()(this.idDay,"YYYYMMDD"):null}}]),e}();var b=function(e){var a=Object(n.useState)([]),t=Object(c.a)(a,2),i=(t[0],t[1]),l=Object(n.useRef)(null);function o(e){return new Promise((function(a,t){var n=new g.Parser({explicitArray:!1}),r=new FileReader;r.onload=function(e){n.parseString(r.result,(function(e,t){a(t)}))},r.onerror=function(e){t(e)},r.readAsText(e)}))}function d(){return(d=Object(s.a)(u.a.mark((function a(t){var n,r;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(n=[],!(t.length<=0)){a.next=3;break}return a.abrupt("return");case 3:r=0;case 4:if(!(r<t.length)){a.next=10;break}return a.next=7,o(t[r]).then((function(e){n=n.concat(e.Usages.Usage)}));case 7:r++,a.next=4;break;case 10:console.log(n),(n=n.map((function(e){return Object.assign(new v,e)}))).forEach((function(e){Array.isArray(e.SubUsage)?e.SubUsage=e.SubUsage:e.SubUsage?e.SubUsage=[e.SubUsage]:e.SubUsage=[],e.SubUsage=e.SubUsage.map((function(e){return Object.assign(new f,e)}))})),i(n),e.setData(n);case 15:case"end":return a.stop()}}),a)})))).apply(this,arguments)}return r.a.createElement("div",null,r.a.createElement(m.a,{variant:"contained",color:"primary",onClick:function(){l&&l.current&&l.current.click()},style:{margin:"10px"}},"Load Files"),r.a.createElement("input",{type:"file",id:"file",accept:".xml",onChange:function(e){return function(e){return d.apply(this,arguments)}(e.target.files)},ref:l,multiple:!0,style:{display:"none"}}),r.a.createElement(m.a,{variant:"contained",color:"secondary",onClick:function(){l.current.value="",i([]),e.setData([])},style:{margin:"10px"}},"Clear Files"),r.a.createElement(m.a,{variant:"contained",style:{margin:"10px"},onClick:function(){return e.openAverages(!0)}},"Get averages"))},S=t(184),y=t(178),D=t(183),_=t(185),U=t(179),k=t(186),Y=t(189),O=t(181),P=t(180),j=t(182),w=t(102),x=t.n(w),M=t(103),A=t.n(M);var B,C=function(e){var a=e.usage,t=r.a.useState(!1),n=Object(c.a)(t,2),i=n[0],l=n[1],o=Array.isArray(a.SubUsage)?a.SubUsage:a.SubUsage?[a.SubUsage]:[];function u(e,a){return e+1*a}return r.a.createElement(r.a.Fragment,null,r.a.createElement(y.a,null,r.a.createElement(U.a,null,r.a.createElement(P.a,{"aria-label":"expand row",size:"small",onClick:function(){return l(!i)}},i?r.a.createElement(x.a,null):r.a.createElement(A.a,null))),r.a.createElement(U.a,null,a.idUsage),r.a.createElement(U.a,{align:"right"},a.idServiceProvider),r.a.createElement(U.a,{align:"right"},a.idChargingStation),r.a.createElement(U.a,{align:"right"},a.getStartDate().format("YYYY-MM-DD HH24:mm:ss")),r.a.createElement(U.a,{align:"right"},a.getEndDate().format("YYYY-MM-DD HH24:mm:ss")),r.a.createElement(U.a,{align:"right"},a.energia_total_transacao),r.a.createElement(U.a,{align:"right"},a.totalDuration),r.a.createElement(U.a,{align:"right"},o?o.map((function(e){return e.preco_opc})).reduce(u,0):0)),r.a.createElement(y.a,null,r.a.createElement(U.a,{style:{paddingBottom:0,paddingTop:0},colSpan:9},r.a.createElement(O.a,{in:i,timeout:"auto",unmountOnExit:!0},r.a.createElement(Y.a,{margin:1},r.a.createElement(j.a,{variant:"h6",gutterBottom:!0,component:"div"},"SubUsage"),r.a.createElement(D.a,{size:"small","aria-label":"purchases"},r.a.createElement(S.a,null,r.a.createElement(y.a,null,r.a.createElement(U.a,null,"ID"),r.a.createElement(U.a,null,"Date"),r.a.createElement(U.a,null,"kW h"),r.a.createElement(U.a,null,"Duration"),r.a.createElement(U.a,{align:"right"},"Price"))),r.a.createElement(_.a,null,o.map((function(e){return r.a.createElement(y.a,{key:e.idSubUsage},r.a.createElement(U.a,null,e.idSubUsage),r.a.createElement(U.a,null,e.getDay().format("YYYY-MM-DD")),r.a.createElement(U.a,null,e.energia_total_periodo),r.a.createElement(U.a,null,e.periodDuration),r.a.createElement(U.a,{align:"right"},e.preco_opc))})))))))))},T=t(187),I=t(26);function N(e,a){return Math.round(e*Math.pow(10,a)+Number.EPSILON)/Math.pow(10,a)}!function(e){e.Provider="Provider",e.Station="Station"}(B||(B={}));var F=function(e){var a=Object(n.useState)(B.Provider),t=Object(c.a)(a,2),i=t[0],l=t[1],o=Object(n.useState)(p(I.groupBy(e.usages,(function(e){return e.idServiceProvider})))),u=Object(c.a)(o,2),s=u[0],g=u[1];function d(a){l(a);var t=[];if(e.usages.length>0)switch(a){case B.Station:t=p(I.groupBy(e.usages,(function(e){return e.idChargingStation}))),g(t);break;case B.Provider:t=p(I.groupBy(e.usages,(function(e){return e.idServiceProvider}))),g(t)}}function p(e){console.log(e);var a=[];return Object.keys(e).forEach((function(t){var n={};n.AverageTypeIdentifier=t,n.Duration=0,n.Price=0,n.Energy=0,e[t].forEach((function(e){var a=function(e){if(e.SubUsage.length<=0)return[];var a=[];return Array.isArray(e.SubUsage)?a=e.SubUsage.concat(a):e.SubUsage&&a.push(e.SubUsage),a}(e);n.Duration+=I.sumBy(a,(function(e){return 1*e.periodDuration})),n.Price+=I.sumBy(a,(function(e){return 1*e.preco_opc})),n.Energy+=I.sumBy(a,(function(e){return 1*e.energia_total_periodo}))})),n.Duration=N(n.Duration,3),n.Price=N(n.Price,2),n.Energy=N(n.Energy,3),a.push(n)})),a}return r.a.createElement("div",null,r.a.createElement(m.a,{variant:"contained",onClick:function(){return d(B.Provider)},style:{margin:"10px"}}," ","By Provider"),r.a.createElement(m.a,{variant:"contained",onClick:function(){return d(B.Station)},style:{margin:"10px"}}," ","By Station"),r.a.createElement(k.a,{component:T.a},r.a.createElement(D.a,{"aria-label":"collapsible table"},r.a.createElement(S.a,null,r.a.createElement(y.a,null,r.a.createElement(U.a,null,i),r.a.createElement(U.a,null,"kW h"),r.a.createElement(U.a,null,"Duration"),r.a.createElement(U.a,null,"Price"))),r.a.createElement(_.a,null,s.map((function(e){return r.a.createElement(y.a,null,r.a.createElement(U.a,null,e.AverageTypeIdentifier),r.a.createElement(U.a,null,e.Energy),r.a.createElement(U.a,null,e.Duration),r.a.createElement(U.a,null,e.Price))}))))))},W=t(190);var H=function(){var e=Object(n.useState)([]),a=Object(c.a)(e,2),t=a[0],i=a[1],l=Object(n.useState)(!1),o=Object(c.a)(l,2),u=o[0],s=o[1];return r.a.createElement("div",null,r.a.createElement(W.a,{open:u,onClose:function(){return s(!1)}},r.a.createElement(F,{usages:t})),r.a.createElement(b,{setData:i,openAverages:s}),r.a.createElement(k.a,{component:T.a},r.a.createElement(D.a,{"aria-label":"collapsible table"},r.a.createElement(S.a,null,r.a.createElement(y.a,null,r.a.createElement(U.a,null),r.a.createElement(U.a,null,"ID"),r.a.createElement(U.a,null,"Provider"),r.a.createElement(U.a,null,"Station"),r.a.createElement(U.a,null,"Start"),r.a.createElement(U.a,null,"Finish"),r.a.createElement(U.a,null,"kW h"),r.a.createElement(U.a,null,"Duration"),r.a.createElement(U.a,null,"Price"))),r.a.createElement(_.a,null,t.map((function(e){return r.a.createElement(C,{key:e.idUsage,usage:e})}))))))};var z=function(){return r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},r.a.createElement(H,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(z,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[113,1,2]]]);
//# sourceMappingURL=main.bb0359d6.chunk.js.map